<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Qlever Labs Signup</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="css/signup.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
</head>

<body>

    <div id="container">
        <h1>Sign Up</h1>

        <form >
            <div class="field-wrap">
                <label>
                    Name<span class="req">*</span>
                </label>
                <input id="name" type="text" required autocomplete="off" />
            </div>

            <div class="field-wrap">
                <label>
                    Email Address<span class="req">*</span>
                </label>
                <input id="email" type="email" required autocomplete="off" />
            </div>

            <div class="field-wrap">
                <label>
                    User Name<span class="req">*</span>
                </label>
                <input id="username" type="text" required autocomplete="off" />
            </div>

            <div class="field-wrap">
                <label>
                    Set A Password<span class="req">*</span>
                </label>
                <input id="password" type="password" required autocomplete="off" />
            </div>

            <button type="submit" class="button" />Get Started</button>
            <a href="signin.html" class="signin">Sign In</a>
        </form>
        <p id="msg" style="color: red"></p>
    </div>

    <script>
            $(document).ready(function(){
                $('.button').click( () => {
                    $.ajax({
                        url: "http://localhost:8000/signup",
                        type: 'POST',
                        data : {
                            username : $('#username').val(),
                            password : $('#password').val(),
                            name : $('#name').val(),
                            email : $('#email').val()
                        },
                        success: function (data) {

                           alert("You need to be verified by Admin to Login");
                            window.location.href = '/signin.html';
                        },
                        error: function (error) {
                            console.log(JSON.stringify(error));
                            alert("Internal Server Error");
                        }
                    });
                })
            });
    </script>
</body>
</html>